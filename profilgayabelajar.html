<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Gaya Belajar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .question-nav-item {
            width: 32px;
            height: 32px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            background-color: #e5e7eb;
            color: #4b5563;
            cursor: pointer;
            transition: all 0.2s;
        }
        .question-nav-item.active {
            background-color: #1e88e5;
            color: white;
        }
        .answer-choice {
            width: 48px;
            height: 48px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            background-color: #e5e7eb;
            color: #4b5563;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .answer-choice:hover, .answer-choice.active {
            background-color: #1e88e5;
            color: white;
        }
        .nav-button {
            background-color: #1e88e5;
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            transition: background-color 0.2s;
        }
        .nav-button:hover {
            background-color: #1565c0;
        }
        /* Styling untuk tombol Lite Mode */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #4a5568;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 24px;
        }
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .toggle-slider {
            background-color: #4c51bf;
        }
        input:checked + .toggle-slider:before {
            -webkit-transform: translateX(20px);
            -ms-transform: translateX(20px);
            transform: translateX(20px);
        }

         /* Modal styling */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }
        .modal-bell-icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

    </style>
</head>
<body class="flex min-h-screen">

    <!-- Sidebar -->
    <aside class="w-64 text-white flex flex-col p-4 shadow-lg fixed h-full" style="background-color: #1470F9;">
        <div class="flex-grow">
            <h1 class="text-2xl font-bold mb-8">
                <a href="#" class="text-white hover:text-indigo-200 transition duration-300">Lorem Ipsum</a>
            </h1>

           <nav>
      <ul class="space-y-2">
        <li>
          <!-- aktif + hover putih -->
          <a href="index.html"
             class="flex items-center p-3 rounded-lg 
                    hover:bg-white hover:text-blue-600 transition-colors duration-200">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 8v8m-4-4v4m-4-4v4m-2-12h10a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"></path>
            </svg>
            Dashboard
          </a>
        </li>

        <li>
          <a href="profilgayabelajar.html"
             class="flex items-center p-3 rounded-lg
                    hover:bg-white hover:text-blue-600 transition-colors duration-200">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
            </svg>
            Profil Gaya Belajar
          </a>
        </li>

        <li>
          <a href="rekomendasi-pembelajaran-hasil.html"
             class="flex items-center p-3 rounded-lg
                    hover:bg-white hover:text-blue-600 transition-colors duration-200">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 6.253v13m0-13C10.832 5.435 9.177 5 7.5 5S4.168 5.435 3 6.253v13C4.168 18.435 5.823 18 7.5 18s3.332.435 4.5 1.253m0-13C13.168 5.435 14.823 5 16.5 5S19.832 5.435 21 6.253v13C19.832 18.435 18.177 18 16.5 18s-3.332.435-4.5 1.253"></path>
            </svg>
            Rekomendasi Pembelajaran
          </a>
        </li>
        <li>
            <a href="materi-pembelajaran.html"
                class="flex items-center p-3 rounded-lg
                        hover:bg-white hover:text-blue-600 transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-3 lucide lucide-files">
                    <path d="M15.5 2H8.6c-.6 0-1.1.2-1.4.6-.3.4-.6.9-.6 1.4V20c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V7.5L15.5 2Z"/>
                    <path d="M8 4v11c0 .6.4 1 1 1h10"/>
                    </svg>
                    <span class="ml-3">Materi Pembelajaran</span>
            </a>
        </li>

        <li>
          <a href="riwayat-pembelajaran.html"
             class="flex items-center p-3 rounded-lg
                    hover:bg-white hover:text-blue-600 transition-colors duration-200">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 019.263 9h5.474a2 2 0 012 2v.894"></path>
            </svg>
            Riwayat Pembelajaran 
          </a>
        </li>
      </ul>
    </nav>
  </div>


        <!-- Bagian bawah sidebar -->
        <div class="mt-auto pt-4 border-t border-indigo-700">
            <div class="flex items-center justify-between mb-4">
                <span class="text-sm font-medium">Lite Mode</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="lite-mode-toggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <!-- Card Profil -->
            <a href="profile.html"
               class="p-3 rounded-lg flex items-center justify-start  text-white
                      hover:bg-white hover:text-blue-600 transition-colors duration-200">
                <img src="https://placehold.co/40x40/94a3b8/ffffff?text=U" alt="User Avatar" class="w-10 h-10 rounded-full mr-3">
                <div class="flex-grow">
                    <p class="font-medium">Culaccino_</p>
                    <p class="text-sm">UX Designer</p>
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7" />
                </svg>
            </a>

            <!-- Tombol Keluar -->
            <button id="logoutButton"
                    class="w-full p-3 text-left rounded-lg bg-red-500 text-white
                           transition-colors duration-200 flex items-center justify-center mt-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                </svg>
                Keluar
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content flex-1 p-8 pl-72">
        <div class="bg-white p-8 rounded-xl shadow-lg">
            <h1 class="text-2xl font-bold text-gray-800 mb-6">Profil Gaya Belajar</h1>

            <!-- Question Navigation -->
            <div class="mb-8">
                <p class="text-gray-600 mb-4">Jawab pertanyaan di bawah ini agar tau kebutuhan personalisasi kamu</p>
                <div class="flex space-x-2">
                    <div class="question-nav-item active">1</div>
                    <div class="question-nav-item">2</div>
                    <div class="question-nav-item">3</div>
                    <div class="question-nav-item">4</div>
                    <div class="question-nav-item">5</div>
                    <div class="question-nav-item">6</div>
                    <div class="question-nav-item">7</div>
                    <div class="question-nav-item">8</div>
                    <div class="question-nav-item">9</div>
                    <div class="question-nav-item">10</div>
                </div>
            </div>

            <!-- Question Area -->
            <div id="question-area" class="text-center bg-gray-100 p-12 rounded-xl mb-8">
                <p id="question-text" class="text-3xl font-light text-gray-800">
                    1. Saya lebih paham jika mencoba langsung daripada hanya membaca teori.
                </p>
            </div>

            <!-- Answer Choices -->
            <div class="flex justify-center space-x-6 mb-12">
                <div class="answer-choice" data-value="1">1</div>
                <div class="answer-choice" data-value="2">2</div>
                <div class="answer-choice" data-value="3">3</div>
                <div class="answer-choice" data-value="4">4</div>
                <div class="answer-choice" data-value="5">5</div>
            </div>

            <!-- Navigation Buttons -->
            <div class="flex justify-between">
                <button id="prev-btn" class="nav-button">Previous</button>
                <button id="next-btn" class="nav-button">Next</button>
            </div>
        </div>
    </main>

    <!-- Modal Notifikasi Kuesioner -->
    <div id="notification-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-bell-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-blue-600">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.964 3.785 1.517 5.455 1.31A23.847 23.847 0 0018 17.082" />
                </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2">Pengisian Gaya Belajar kamu sudah selesai.</h3>
            <p class="text-gray-600 text-sm">Silahkan Lanjut ke Rekomendasi Pembelajaran</p>
        </div>
    </div>

    <!-- Modal Notifikasi Logout -->
<div id="logout-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-bell-icon">
            <!-- SVG icon here -->
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out-icon lucide-log-out"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>
        </div>
        <h3 class="text-lg font-semibold mb-2">Anda Berhasil Logout</h3>
        <p class="text-gray-600 text-sm">Anda akan dialihkan ke halaman login.</p>
    </div>

    <script>
  // --- tetap: daftar pertanyaan ---
  const questions = [
    "1. Saya lebih paham jika mencoba langsung daripada hanya membaca teori.",
    "2. Saya sering menggambarkan konsep dengan skema visual.",
    "3. Saya terbiasa menyimak podcast, audio, atau penjelasan lisan.",
    "4. Saya memahami materi dengan mengerjakan latihan langsung.",
    "5. Saya lebih nyaman belajar dari modul teks daripada menonton video penjelasan.",
    "6. Saya suka membuat rangkuman dalam bentuk teks ketika belajar hal baru.",
    "7. Saya terbantu ketika melihat contoh diagram atau alur proses.",
    "8. Saya merasa lebih paham jika berdiskusi langsung dengan orang lain.",
    "9. Saya belajar lebih cepat saat diberi kesempatan mencoba dan membuat kesalahan.",
    "10. Saya merasa mudah memahami materi jika saya menulis ulang dengan kata-kata saya sendiri."
  ];

  // --- TAMBAHKAN: mapping gaya per nomor (V/A/K) + state jawaban ---
  const groupMap = ['K','V','A','K','V','V','V','A','K','V']; // 1..10 → K/V/A
  const answers  = Array(questions.length).fill(null);        // simpan skala 1..5

  let currentQuestionIndex = 0;
  const questionText = document.getElementById('question-text');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const questionNavItems = document.querySelectorAll('.question-nav-item');
  const answerChoices = document.querySelectorAll('.answer-choice');
  const notificationModal = document.getElementById('notification-modal');

  function updateUI() {
    questionText.textContent = questions[currentQuestionIndex];
    questionNavItems.forEach((item, idx)=> item.classList.toggle('active', idx===currentQuestionIndex));
    // restore pilihan yang pernah dipilih
    answerChoices.forEach(c => c.classList.toggle('active', Number(c.dataset.value) === answers[currentQuestionIndex]));
    prevBtn.style.visibility = currentQuestionIndex === 0 ? 'hidden' : 'visible';
    nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finish' : 'Next';
  }

  // simpan pilihan 1..5
  answerChoices.forEach(choice => {
    choice.addEventListener('click', () => {
      const val = Number(choice.dataset.value);   // 1..5
      answers[currentQuestionIndex] = val;
      answerChoices.forEach(c => c.classList.remove('active'));
      choice.classList.add('active');
    });
  });

  // tombol Next/Finish
  nextBtn.addEventListener('click', () => {
    if (currentQuestionIndex < questions.length - 1) {
      currentQuestionIndex++;
      updateUI();
      return;
    }

    // pastikan semua terisi
    const miss = answers.findIndex(a => a === null);
    if (miss !== -1) {
      alert(`Pertanyaan nomor ${miss+1} belum dijawab.`);
      currentQuestionIndex = miss; updateUI(); return;
    }

    // ---- HITUNG V/A/K → simpan ke localStorage ----
    const to01 = v => (v - 1) / 4; // skala 1..5 → 0..1
    const sums   = { V:0, A:0, K:0 }, counts = { V:0, A:0, K:0 };
    answers.forEach((ans, i) => { const g = groupMap[i]; sums[g] += to01(ans); counts[g]++; });
    const mean = {
      V: counts.V ? sums.V / counts.V : 0,
      A: counts.A ? sums.A / counts.A : 0,
      K: counts.K ? sums.K / counts.K : 0
    };
    const total = Math.max(1e-6, mean.V + mean.A + mean.K);
    const pct = {
      visual:     Math.round((mean.V / total) * 100),
      audiotori:  Math.round((mean.A / total) * 100),
      kinestetik: Math.round((mean.K / total) * 100),
    };
    const primary =
      pct.visual >= pct.audiotori && pct.visual >= pct.kinestetik ? 'visual' :
      pct.audiotori >= pct.kinestetik ? 'audiotori' : 'kinestetik';

    try {
      localStorage.setItem('vark_visual',     String(pct.visual));
      localStorage.setItem('vark_audiotori',  String(pct.audiotori));
      localStorage.setItem('vark_kinestetik', String(pct.kinestetik));
      localStorage.setItem('vark_primary',    primary);
      localStorage.setItem('vark_timestamp',  new Date().toISOString());
    } catch {}

    // tampilkan modal lalu arahkan ke halaman rekomendasi (router akan mengirim ke halaman sesuai gaya)
    if (notificationModal) {
      notificationModal.style.display = 'flex';
      setTimeout(()=>{ window.location.href = 'rekomendasi-pembelajaran-hasil.html'; }, 1500);
    } else {
      window.location.href = 'rekomendasi-pembelajaran-hasil.html';
    }
  });

  prevBtn.addEventListener('click', () => {
    if (currentQuestionIndex > 0) { currentQuestionIndex--; updateUI(); }
  });

  // (opsional) klik nav bulatan
  questionNavItems.forEach((item, idx) => item.addEventListener('click', () => { currentQuestionIndex = idx; updateUI(); }));

  // init
  updateUI();
</script>


</body>
</html>
